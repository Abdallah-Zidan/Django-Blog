
<!DOCTYPE html>
{% load static %}
<html>
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="{% static 'posts/style.css' %}">

</head>
<body>
	<div class="container.fluid">
		<h3>{{post.title}}</h3>
		<small>post created by : {{post.user}}</small>
		<hr>
		<p>{{post.body}}</p>
	</div>
<br><br>
<hr>


	<div class="main-comment-section">
		<div class="container-fluid mt-2">
			<div class="form-group row">
               <form method="post" class="comment-form" action=".">
		        	{% csrf_token%}
			        {{comment_form.as_p}}
			        {% if request.user.is_authenticatef %}
				        <input type="submit" value="submit"  class="btn btn-oulined-success" style="color: red" style="border-color: black">
			        {% else %}
				        <input type="submit" value="submit"  class="btn btn-oulined-success" disabled>
			        {% endif %}	

		        </form>

		</div>
	</div>


		{{ comments.count}} Comment{{ comments|pluralize}}
		{% for comment in comments %}
			<blockquote class="blockquote">
  		<p class="mb-0"><small>{{ comment.content }}</small></p>
  		<footer class="blockquote-footer"> <small>by<cite title="Source Title">{{ comment.user|capfirst}}</cite></small>
  			<button type="button" name="button" class="reply-btn btn-outline-dark btn-sm ml-2">Reply</button>

  		
            </footer>
			</blockquote>


	<div class="replied-comments container mt-2" style="display: none;">
		{% for reply in comment.replies.all%}
		<blockquote class="blockquote">
<p class="mb-0"><small>{{ reply.content}}</small></p>
<footer class="blockquote-footer"><small> by <cite title="Source Title">{{ reply.user|capfirst}} </cite></small>
			</footer>
				</blockquote>
				{% endfor%}


		<div class="form-group row">

<form method="post" class="reply-form" action=".">
			{% csrf_token%}
			<input type="hidden" name="comment_id" value="{{ comment.id}}">
			{{comment_form.as_p}}
			{% if request.user.is_authenticatef %}
				<input type="submit" value="submit"  class="btn btn-oulined-success" style="color: red" style="border-color: black">
			{% else %}
				<input type="submit" value="submit"  class="btn btn-oulined-success" disabled>
			{% endif %}	

		</form>
		</div>
</div>
		{% endfor %}
	</div>


</body>
</html>

